(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n(20),s=n.n(c),i=n(22),o=n(3),u=n(23),l=n(24),j=n(27),d=n(26),h=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{id:"home",children:[Object(a.jsx)("div",{className:"heading",children:Object(a.jsx)("h1",{children:"Fusarium Test"})}),Object(a.jsxs)("div",{className:"body",children:[Object(a.jsx)("h2",{children:"Are you plants slowly dying?"}),Object(a.jsx)("p",{children:"If you suspect they might be infected with the Fusarium fungus, then you have come to the right place!"}),Object(a.jsx)("p",{children:"With our innovative technology we will help you diagnose your plants with a simple and quick test."})]})]})}}]),n}(r.Component),p=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{id:"contact",children:[Object(a.jsx)("div",{className:"heading",children:Object(a.jsx)("h1",{children:"Contact Us"})}),Object(a.jsxs)("div",{className:"body",children:[Object(a.jsx)("h2",{children:"Do you have any questions?"}),Object(a.jsx)("p",{children:"If so, you can contact us at:"}),Object(a.jsx)("p",{children:"marta.masramon@gmail.com"})]})]})}}]),n}(r.Component),b=(n(51),n(6)),O=function(e){e.auth;var t=e.test,n=(t._id,t.text),r=t.name,c=(t.user,t.comments),s=t.date;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:r}),Object(a.jsx)("p",{children:n}),Object(a.jsxs)("p",{children:["Tested on ",s]}),c.length>0&&Object(a.jsxs)("p",{children:[c.length," comments"]})]})};O.defaultProps={showActions:!0};Object(b.b)((function(e){return{auth:e.auth}}),{})(O);var x=n(5),f=n.n(x),m=n(12),v=n(13),g=n.n(v),y=n(80),w="SET_ALERT",S="REMOVE_ALERT",T="REGISTER_SUCCESS",E="REGISTER_FAIL",k="USER_LOADED",A="AUTH_ERROR",C="LOGIN_SUCCESS",N="LOGIN_FAIL",R="LOGOUT",L="GET_TESTS",I="GET_TEST",U="TEST_ERROR",_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(a){var r=Object(y.a)();a({type:w,payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return a({type:S,payload:r})}),n)}},F=Object(b.b)((function(e){return{test:e.test}}),{getTests:function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/tests");case 3:n=e.sent,t({type:L,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:U,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getTests,n=e.test,c=(n.tests,n.loading);return Object(r.useEffect)((function(){t()}),[t]),c?Object(a.jsx)("h1",{children:"Loading"}):Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h1",{children:"Test Result History"}),Object(a.jsx)("div",{className:"tests"})]})})),D=n(16),G=n(4),q=n(17),J=function(e){e?g.a.defaults.headers.common["x-auth-token"]=e:delete g.a.defaults.headers.common["x-auth-token"]},H=function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&J(localStorage.token),e.prev=1,e.next=4,g.a.get("/api/auth");case 4:n=e.sent,t({type:k,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:A});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},M=Object(b.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var n=Object(m.a)(f.a.mark((function n(a){var r,c,s,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Inside auth.js - register"),r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),n.prev=3,n.next=6,g.a.post("/api/auth",c,r);case 6:s=n.sent,a({type:C,payload:s.data}),a(H()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(3),(i=n.t0.response.data.errors)&&i.forEach((function(e){return a(_(e.msg,"danger"))})),a({type:N});case 16:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuthenticated,c=Object(r.useState)({email:"",password:""}),s=Object(q.a)(c,2),i=s[0],u=s[1],l=i.email,j=i.password,d=function(e){return u(Object(G.a)(Object(G.a)({},i),{},Object(D.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(m.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(l,j);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(a.jsx)(o.a,{to:"/"}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Let's get you signed in!"}),Object(a.jsxs)("form",{onSubmit:h,children:[Object(a.jsx)("input",{onChange:d,name:"email",placeholder:"Email",value:l}),Object(a.jsx)("input",{onChange:d,type:"password",name:"password",placeholder:"Password",value:j}),Object(a.jsx)("input",{type:"submit",value:"Log in"})]}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"/forgotpass",children:"Forgot password"})}),Object(a.jsxs)("p",{children:["Don't have an account? ",Object(a.jsx)("a",{href:"/signup",children:"Sign Up"})]})]})})),P=Object(b.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:_,register:function(e){var t=e.name,n=e.email,a=e.password;return function(){var e=Object(m.a)(f.a.mark((function e(r){var c,s,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Inside auth.js - register"),c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:n,password:a}),e.prev=3,e.next=6,g.a.post("/api/user",s,c);case 6:i=e.sent,r({type:T,payload:i.data}),r(H()),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),(o=e.t0.response.data.errors)&&o.forEach((function(e){return r(_(e.msg,"danger"))})),r({type:E});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,n=e.register,c=e.isAuthenticated,s=Object(r.useState)({name:"",email:"",password:"",password2:""}),i=Object(q.a)(s,2),u=i[0],l=i[1],j=u.name,d=u.email,h=u.password,p=u.password2,b=function(e){return l(Object(G.a)(Object(G.a)({},u),{},Object(D.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(m.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),h!==p?t("Passwords do not match","danger"):n({name:j,email:d,password:h});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(a.jsx)(o.a,{to:"/"}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Fill in with your details to make an account"}),Object(a.jsxs)("form",{onSubmit:O,children:[Object(a.jsx)("input",{onChange:b,name:"name",placeholder:"Full name",value:j,required:!0}),Object(a.jsx)("input",{onChange:b,name:"email",placeholder:"Email",value:d,required:!0}),Object(a.jsx)("input",{type:"password",onChange:b,name:"password",placeholder:"Password",value:h,minLength:"6",required:!0}),Object(a.jsx)("input",{type:"password",onChange:b,name:"password2",placeholder:"Confirm password",value:p,minLength:"6",required:!0}),Object(a.jsx)("input",{type:"submit",value:"Sign up"})]}),Object(a.jsxs)("p",{children:["Already have an account? ",Object(a.jsx)("a",{href:"/login",children:"Log in"})]})]})}));var W=function(){var e=Object(r.useState)({email:""}),t=Object(q.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Don't worry!"}),Object(a.jsx)("p",{children:"Just give us your email and we'll send you a link to reset your password!"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("input",{onChange:function(e){var t=e.target,n=(t.name,t.value);c((function(e){return{email:n}}))},name:"email",placeholder:"Email",value:n.email})}),Object(a.jsx)("button",{children:"Reset password"})]}),Object(a.jsxs)("p",{children:["Just remembered your password?",Object(a.jsx)("a",{href:"/login",children:"Log in"})]}),Object(a.jsxs)("p",{children:["Don't have an account? ",Object(a.jsx)("a",{href:"/signup",children:"Sign Up"})]})]})},B=Object(b.b)((function(e){return{alerts:e.alert}}))((function(e){return e.alerts.map((function(e){return Object(a.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))})),V=Object(b.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:R})}}})((function(e){var t=e.auth,n=t.isAuthenticated,c=t.loading,s=e.logout,i=Object(a.jsxs)("ul",{className:"nav navbar-nav navbar-right",children:[Object(a.jsx)("li",{id:"home",children:Object(a.jsx)("a",{href:"/",children:"HOME"})}),Object(a.jsx)("li",{id:"contact",children:Object(a.jsx)("a",{href:"/contact",children:"CONTACT US"})}),Object(a.jsx)("li",{id:"tests",children:Object(a.jsx)("a",{href:"/tests",children:"RESULT HISTORY"})}),Object(a.jsx)("li",{id:"logout",children:Object(a.jsx)("a",{onClick:s,href:"/",children:"LOG OUT"})})]}),o=Object(a.jsxs)("ul",{className:"nav navbar-nav navbar-right",children:[Object(a.jsx)("li",{id:"home",children:Object(a.jsx)("a",{href:"/",children:"HOME"})}),Object(a.jsx)("li",{id:"contact",children:Object(a.jsx)("a",{href:"/contact",children:"CONTACT US"})}),Object(a.jsx)("li",{id:"login",children:Object(a.jsx)("a",{href:"/login",children:"LOG IN"})})]});return Object(a.jsx)("nav",{className:"navbar navbar-default",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"navbar-header",children:Object(a.jsx)("p",{className:"navbar-brand",children:"Crescentech"})}),!c&&Object(a.jsx)(r.Fragment,{children:n?i:o})]})})})),Y=n(14),z=n(43),K=n(44),Q=n(45),X=[];var Z={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null};var $={tests:[],test:null,loading:!0,error:{}};var ee=Object(Y.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(console.log("alert with type:",n,"and payload:",a),n){case w:return[].concat(Object(Q.a)(e),[a]);case S:return e.filter((function(e){return e.id!==a}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case k:return Object(G.a)(Object(G.a)({},e),{},{isAuthenticated:!0,loading:!1,user:a});case T:case C:return localStorage.setItem("token",a.token),Object(G.a)(Object(G.a)(Object(G.a)({},e),a),{},{isAuthenticated:!0,loading:!1});case E:case A:case N:case R:return localStorage.removeItem("token"),Object(G.a)(Object(G.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case L:return Object(G.a)(Object(G.a)({},e),{},{tests:a,loading:!1});case I:return Object(G.a)(Object(G.a)({},e),{},{test:a,loading:!1});case U:return Object(G.a)(Object(G.a)({},e),{},{error:a,loading:!1});default:return e}}}),te=[K.a],ne=Object(Y.createStore)(ee,{},Object(z.composeWithDevTools)(Y.applyMiddleware.apply(void 0,te)));localStorage.token&&J(localStorage.token);var ae=function(){return Object(r.useEffect)((function(){ne.dispatch(H())}),[]),Object(a.jsx)(b.a,{store:ne,children:Object(a.jsx)(i.a,{children:Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(V,{}),Object(a.jsx)(o.b,{exact:!0,path:"/",component:h}),Object(a.jsxs)("section",{children:[Object(a.jsx)(B,{}),Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{exact:!0,path:"/contact",component:p}),Object(a.jsx)(o.b,{exact:!0,path:"/tests",component:F}),Object(a.jsx)(o.b,{exact:!0,path:"/login",component:M}),Object(a.jsx)(o.b,{exact:!0,path:"/signup",component:P}),Object(a.jsx)(o.b,{exact:!0,path:"/forgotpass",component:W})]})]})]})})})};n(77);s.a.render(Object(a.jsx)(ae,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.c476ffef.chunk.js.map